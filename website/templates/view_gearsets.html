{% extends "base.html" %}

{% block title %}Gearset Overview{% endblock %}

{% block content %}
<br />
<div class="content">
    <h1 class="center display-3">Gearset Overview</h1>
    <br />
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
        {% for gearset in gearsets %}
        <div class="col">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title center">{{ gearset.name }}</h5>
                    <p class="card-subtitle mb2 text-muted">{{ gearset.description }}</p>
                    <br />
                    <p class="card-text">
                        {% if gearset.weapon_type == "Greatsword" %}
                        <img src="/static/greatsword.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Sword and Shield" %}
                        <img src="/static/swordandshield.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Dual Blades" %}
                        <img src="/static/dualblades.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Longsword" %}
                        <img src="/static/longsword.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Hammer" %}
                        <img src="/static/hammer.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Lance" %}
                        <img src="/static/huntinghorn.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Lance" %}
                        <img src="/static/lance.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Gunlance" %}
                        <img src="/static/gunlance.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Switch Axe" %}
                        <img src="/static/switchaxe.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Charge Blade" %}
                        <img src="/static/chargeblade.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Insect Glaive" %}
                        <img src="/static/insectglaive.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Bow" %}
                        <img src="/static/bow.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Heavy Bowgun" %}
                        <img src="/static/heavybowgun.jpg" style="width:30px;height:30px;">
                        {% elif gearset.weapon_type == "Light Bowgun" %}
                        <img src="/static/lightbowgun.jpg" style="width:30px;height:30px;">
                        {% endif %}
                        {{ gearset.weapon }}
                    </p>
                    <p class="card-text"><img src="/static/helmet.jpg" class="mr" width="20px" height="20px"/>{{ gearset.helmet }}</p>
                    <p class="card-text"><img src="/static/chest.jpg" class="mr" width="20px" height="20px"/>{{ gearset.armor }}</p>
                    <p class="card-text"><img src="/static/gloves.jpg" class="mr" width="20px" height="20px"/>{{ gearset.gloves }}</p>
                    <p class="card-text"><img src="/static/belt.jpg" class="mr" width="20px" height="20px"/>{{ gearset.belt }}</p>
                    <p class="card-text"><img src="/static/legs.jpg" class="mr" width="20px" height="20px"/>{{ gearset.legs }}</p>
                    <div class="card-footer">
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button onClick="window.location.href='/view_gearset/{{ gearset._id }}'" class="btn btn-success">View Gearset</a>
                            <button data-bs-toggle="modal" data-bs-target="#modal" class="btn btn-invisible" onClick="createURL('{{ gearset._id }}')"><i class="fa-solid fa-trash-can danger clickable"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div>
        <br />
        <button type="button" class="btn btn-success w-100" onclick="location.href='/add_gearset'">Create Gearset</button>
    </div>
</div>
<div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="display-6 center dark">Delete Gearset</h1>
                <input disabled type="hidden" id="name" class="form-control" value="" width="auto" />
                <br />
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            </div>
            <div class="modal-body">
                <p class="lead dark">Are you sure you want to delete this gearset?</p>
                <br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success confirm" onClick="">Confirm</button>
            </div>
        </div>
    </div>
</div>
<script>
    function createURL(id) {
        var url = "window.location.href='/delete_gearset/" + "/" + id + "'";
        $(".confirm").attr("onClick", url);
    };
</script>
{% endblock %}